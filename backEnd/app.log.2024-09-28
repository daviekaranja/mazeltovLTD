{"timestamp": "2024-09-28 09:37:09,175", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 09:40:54,419", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 09:42:54,037", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 09:43:16,781", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 09:43:25,445", "level": "INFO", "message": "Access Token Granted: {'access_token': 'AgXD4mdC5yaWQyvGNaCGAjCKO83E', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 09:44:06,234", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 09:44:09,000", "level": "INFO", "message": "Access Token Granted: {'access_token': 'phH99E12oiAD7BQE0MCHYR8sKdk9', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 09:48:18,451", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 09:52:49,721", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 09:53:24,533", "level": "INFO", "message": "Access Token Granted: {'access_token': 'e9HMxKN2GPLlQ643VhAe6KyqsfZz', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 09:54:48,532", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 09:55:38,947", "level": "INFO", "message": "Access Token Granted: {'access_token': 'FG9DfUf5Yraqjz8uVvkBuXXeqg8S', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 09:57:40,209", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 10:21:32,253", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 10:22:04,889", "level": "INFO", "message": "stkNumber='254728404490' amount=100 rechargeNumber='0712345678'", "module": "integrations", "line": "16"}
{"timestamp": "2024-09-28 10:22:05,867", "level": "INFO", "message": "Access Token Granted: {'access_token': 'grP8JIh9QO96wQF8EgNHAVwvwQFQ', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 10:22:30,500", "level": "INFO", "message": "stkNumber='254728404490' amount=100 rechargeNumber='0712345678'", "module": "integrations", "line": "16"}
{"timestamp": "2024-09-28 10:22:31,189", "level": "INFO", "message": "Access Token Granted: {'access_token': 'f0fXD1FBEiDblCLyE8Yk0p1XO6pU', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 10:23:18,969", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 10:23:45,120", "level": "INFO", "message": "stkNumber='254728404490' amount=100 rechargeNumber='0712345678'", "module": "integrations", "line": "16"}
{"timestamp": "2024-09-28 10:23:45,934", "level": "INFO", "message": "Access Token Granted: {'access_token': 'HnzsvkAXlecCSW7OMWvLJW5USlb3', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 10:29:13,127", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 10:36:40,988", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 10:38:16,242", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 10:38:45,226", "level": "INFO", "message": "Access Token Granted: {'access_token': 'rbirhVNcaLMvnFmbmlUXAYPgO0yw', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 10:39:13,376", "level": "ERROR", "message": "1 validation error for PushParams
stkNumber
  Value error, stkNumber must be exactly 12 digits long [type=value_error, input_value='25472840449', input_type=str]
    For further information visit https://errors.pydantic.dev/2.8/v/value_error", "module": "integrations", "line": "18"}
{"timestamp": "2024-09-28 10:50:37,041", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 10:51:08,724", "level": "INFO", "message": "Access Token Granted: {'access_token': 'enILXV75KoiPWVMo4dutzl3TCaFj', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 10:51:54,053", "level": "ERROR", "message": "Validation Error: 1 validation error for PushParams
stkNumber
  Value error, stkNumber must be exactly 12 digits long [type=value_error, input_value='25472840449', input_type=str]
    For further information visit https://errors.pydantic.dev/2.8/v/value_error", "module": "integrations", "line": "23"}
{"timestamp": "2024-09-28 10:53:19,077", "level": "INFO", "message": "<starlette.requests.Request object at 0x0000022B9EC56FD0>", "module": "integrations", "line": "98"}
{"timestamp": "2024-09-28 10:54:53,148", "level": "INFO", "message": "<starlette.requests.Request object at 0x0000022B9EC50950>", "module": "integrations", "line": "98"}
{"timestamp": "2024-09-28 11:00:30,565", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 11:00:43,119", "level": "INFO", "message": "Received callback with headers: Headers({'host': 'fde3-154-159-252-108.ngrok-free.app', 'user-agent': 'PostmanRuntime/7.42.0', 'content-length': '0', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, br', 'postman-token': '58734903-1708-4290-84db-cb410281a29a', 'x-forwarded-for': '154.159.252.108', 'x-forwarded-host': 'fde3-154-159-252-108.ngrok-free.app', 'x-forwarded-proto': 'https'})", "module": "integrations", "line": "98"}
{"timestamp": "2024-09-28 11:00:43,119", "level": "ERROR", "message": "Error parsing callback data: Expecting value: line 1 column 1 (char 0)", "module": "integrations", "line": "109"}
{"timestamp": "2024-09-28 11:05:00,326", "level": "INFO", "message": "Received callback with headers: Headers({'host': 'fde3-154-159-252-108.ngrok-free.app', 'user-agent': 'PostmanRuntime/7.42.0', 'content-length': '769', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, br', 'content-type': 'application/json', 'postman-token': 'cd8a16d3-ac3c-4167-ba9c-859e990f2bcb', 'x-forwarded-for': '154.159.252.108', 'x-forwarded-host': 'fde3-154-159-252-108.ngrok-free.app', 'x-forwarded-proto': 'https'})", "module": "integrations", "line": "98"}
{"timestamp": "2024-09-28 11:05:00,327", "level": "INFO", "message": "Callback data: {'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_270720191547474926', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT61SV'}, {'Name': 'Balance'}, {'Name': 'TransactionDate', 'Value': 20240927212729}, {'Name': 'PhoneNumber', 'Value': 254728404490}]}}}}", "module": "integrations", "line": "102"}

___ new__{"timestamp": "2024-09-28 11:06:28,949", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
___________________
{"timestamp": "2024-09-28 11:07:34,106", "level": "INFO", "message": "Access Token Granted: {'access_token': 'k40MeCzAMNuArsqdHvwfAXwAk2G2', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 11:25:10,359", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 11:25:46,771", "level": "INFO", "message": "Access Token Granted: {'access_token': 'GhIYGtz1FtZ6Synkk67XGcJW5anC', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 11:25:46,772", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 11:26:58,270", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 11:27:29,116", "level": "INFO", "message": "Access Token Granted: {'access_token': 'yrcA8UL4EGhKmtsm0ZjdxuOQ8Ql1', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 11:27:29,117", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 11:32:02,169", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 11:32:19,072", "level": "INFO", "message": "Access Token Granted: {'access_token': 'wjoNe14SnNyjON6U8M7FR4GlQcYT', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 11:32:19,072", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 12:07:06,135", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 12:07:46,663", "level": "INFO", "message": "Access Token Granted: {'access_token': 'YujyhtwA0BHA2JtgGvPh8AuQNftA', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 12:07:46,663", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 12:12:18,521", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 12:12:29,700", "level": "INFO", "message": "Access Token Granted: {'access_token': '5CLMyhY2nTGhHSqSYHq4bzGItcoY', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 12:12:29,701", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 12:12:29,886", "level": "ERROR", "message": "HTTP error occurred: 404 Client Error: Not Found for url: https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest", "module": "integrations", "line": "62"}
{"timestamp": "2024-09-28 13:00:44,490", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 13:01:12,920", "level": "INFO", "message": "Access Token Granted: {'access_token': 'TZ47bJrkMh32pgbF5E8GBZRtqDUf', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 13:01:12,921", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 13:01:13,278", "level": "ERROR", "message": "HTTP error occurred: 500 Server Error: Internal Server Error for url: https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest", "module": "integrations", "line": "62"}
{"timestamp": "2024-09-28 13:22:18,084", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 13:22:27,686", "level": "INFO", "message": "Access Token Granted: {'access_token': '9sjHsalIUAB3slS2ezjAv4Esm2vM', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 13:22:27,687", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 13:22:59,114", "level": "INFO", "message": "Received callback with headers: Headers(raw=[(b'host', b'fde3-154-159-252-108.ngrok-free.app'), (b'user-agent', b'Apache-HttpClient/4.5.5 (Java/1.8.0_251)'), (b'content-length', b'209'), (b'accept', b'image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*'), (b'accept-charset', b'iso-8859-1,*,utf-8'), (b'accept-encoding', b'gzip'), (b'content-type', b'application/json;charset=UTF-8'), (b'traceparent', b'00-465a8ad7851c25a7f40be17ca73ae92b-dc002f1def8f81a1-01'), (b'tracestate', b'265f7333-c11c5b27@dt=fw4;d;72720c8c;ecd8cf5;1;0;1;208;a52c;2h03;3h4371d2c4;4h0cbafd2d;5h01;6h465a8ad7851c25a7f40be17ca73ae92b;7hdc002f1def8f81a1'), (b'x-b3-sampled', b'0'), (b'x-b3-spanid', b'9a85186ababae17d'), (b'x-b3-traceid', b'19355d4623152cfc9a85186ababae17d'), (b'x-dynatrace', b'FW4;-1055106265;13;1920076940;248351989;134217729;643789619;520;a52c;2h03;3h4371d2c4;4h0cbafd2d;5h01;6h465a8ad7851c25a7f40be17ca73ae92b;7hdc002f1def8f81a1'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-expected-rq-timeout-ms', b'300000'), (b'x-forwarded-for', b'10.197.136.63'), (b'x-forwarded-for', b'196.201.214.200'), (b'x-forwarded-host', b'fde3-154-159-252-108.ngrok-free.app'), (b'x-forwarded-proto', b'https'), (b'x-forwarded-proto', b'https'), (b'x-request-id', b'ae479754-e776-41a9-b740-bc9aadbcf2e0')])", "module": "integrations", "line": "124"}
{"timestamp": "2024-09-28 13:22:59,115", "level": "INFO", "message": "Callback data: {'Body': {'stkCallback': {'MerchantRequestID': 'dab3-4cb9-9110-99918efd35e37418852', 'CheckoutRequestID': 'ws_CO_28092024132227929728404490', 'ResultCode': 2001, 'ResultDesc': 'The initiator information is invalid.'}}}", "module": "integrations", "line": "128"}
{"timestamp": "2024-09-28 14:06:03,275", "level": "INFO", "message": "Access Token Granted: {'access_token': '40FCqQs23AyVaP8srHle6ZGAGxQh', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 14:06:03,276", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 14:06:36,644", "level": "INFO", "message": "Received callback with headers: Headers(raw=[(b'host', b'fde3-154-159-252-108.ngrok-free.app'), (b'user-agent', b'Apache-HttpClient/4.5.5 (Java/1.8.0_251)'), (b'content-length', b'206'), (b'accept', b'image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*'), (b'accept-charset', b'iso-8859-1,*,utf-8'), (b'accept-encoding', b'gzip'), (b'content-type', b'application/json;charset=UTF-8'), (b'traceparent', b'00-4ef8d702c63a4cab7e3d944268492ff0-e4a3508877c6341a-00'), (b'tracestate', b'265f7333-c11c5b27@dt=fw4;0;5b5c14a0;0;7fffffe;1;f;1be;7f38;2h01;3h5b5c14a0;4h00;7he4a3508877c6341a'), (b'x-dynatrace', b'FW4;-1055106265;0;1532761248;0;-2;643789619;446;9c9d;2h01;3h5b5c14a0;4h00;6h4ef8d702c63a4cab7e3d944268492ff0;7he4a3508877c6341a'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-expected-rq-timeout-ms', b'300000'), (b'x-forwarded-for', b'10.197.136.63'), (b'x-forwarded-for', b'196.201.212.69'), (b'x-forwarded-host', b'fde3-154-159-252-108.ngrok-free.app'), (b'x-forwarded-proto', b'https'), (b'x-forwarded-proto', b'https'), (b'x-request-id', b'ff1ba717-ccf1-45ec-8147-2b7e9698385a')])", "module": "integrations", "line": "124"}
{"timestamp": "2024-09-28 14:06:36,644", "level": "INFO", "message": "Callback data: {'Body': {'stkCallback': {'MerchantRequestID': 'a5e9-4493-bf74-289c5402a31841844222', 'CheckoutRequestID': 'ws_CO_28092024140603570700524726', 'ResultCode': 1037, 'ResultDesc': 'DS timeout user cannot be reached'}}}", "module": "integrations", "line": "128"}
{"timestamp": "2024-09-28 14:10:46,715", "level": "INFO", "message": "Access Token Granted: {'access_token': 'fTvA44Sr7yGOKuzxaSJP3wasAF4A', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 14:10:46,716", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 14:10:56,018", "level": "INFO", "message": "Received callback with headers: Headers(raw=[(b'host', b'fde3-154-159-252-108.ngrok-free.app'), (b'user-agent', b'Apache-HttpClient/4.5.5 (Java/1.8.0_251)'), (b'content-length', b'208'), (b'accept', b'image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*'), (b'accept-charset', b'iso-8859-1,*,utf-8'), (b'accept-encoding', b'gzip'), (b'content-type', b'application/json;charset=UTF-8'), (b'x-b3-sampled', b'0'), (b'x-b3-spanid', b'5c19c32a4aaf863c'), (b'x-b3-traceid', b'db8c650404b03b9c5c19c32a4aaf863c'), (b'x-dynatrace', b'FW4;-1055106265;0;-785610091;0;-2;643789619;1;ace9;2h01;3hd12c8a95;4h00;7hccffed37a993c84c'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-expected-rq-timeout-ms', b'300000'), (b'x-forwarded-for', b'10.197.136.63'), (b'x-forwarded-for', b'196.201.212.69'), (b'x-forwarded-host', b'fde3-154-159-252-108.ngrok-free.app'), (b'x-forwarded-proto', b'https'), (b'x-forwarded-proto', b'https'), (b'x-request-id', b'5cffc7c6-fbd0-4437-a1da-3d7272f26697')])", "module": "integrations", "line": "124"}
{"timestamp": "2024-09-28 14:10:56,019", "level": "INFO", "message": "Callback data: {'Body': {'stkCallback': {'MerchantRequestID': '38d5-4ca6-b9c9-0240a9781f7a7258775', 'CheckoutRequestID': 'ws_CO_28092024141046969700524726', 'ResultCode': 'SFC_IC0003', 'ResultDesc': 'The operator does not exist.'}}}", "module": "integrations", "line": "128"}
{"timestamp": "2024-09-28 14:11:20,087", "level": "INFO", "message": "Access Token Granted: {'access_token': 'fTytRabesbz1lqpKXvsnc4CnDzmn', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 14:11:20,354", "level": "INFO", "message": "{'Authorization': 'Bearer fTytRabesbz1lqpKXvsnc4CnDzmn', 'Content-Type': 'application/json'}", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 14:22:27,851", "level": "INFO", "message": "Access Token Granted: {'access_token': 'wYsPQ5vi2UXIqNo8JSHxLFDS9Uv3', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 14:22:27,851", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 14:22:46,409", "level": "INFO", "message": "Received callback with headers: Headers(raw=[(b'host', b'fde3-154-159-252-108.ngrok-free.app'), (b'user-agent', b'Apache-HttpClient/4.5.5 (Java/1.8.0_251)'), (b'content-length', b'208'), (b'accept', b'image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*'), (b'accept-charset', b'iso-8859-1,*,utf-8'), (b'accept-encoding', b'gzip'), (b'content-type', b'application/json;charset=UTF-8'), (b'x-b3-sampled', b'0'), (b'x-b3-spanid', b'c171e1e4706575b5'), (b'x-b3-traceid', b'0450d84049ceeebcc171e1e4706575b5'), (b'x-dynatrace', b'FW4;-1055106265;0;363764343;0;-2;643789619;1;3e51;2h01;3h15ae9a77;4h00;7h3e35fd389ba593e6'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-expected-rq-timeout-ms', b'300000'), (b'x-forwarded-for', b'10.197.136.63'), (b'x-forwarded-for', b'196.201.214.200'), (b'x-forwarded-host', b'fde3-154-159-252-108.ngrok-free.app'), (b'x-forwarded-proto', b'https'), (b'x-forwarded-proto', b'https'), (b'x-request-id', b'986d5b80-275c-4ddf-a7fa-a60189793db0')])", "module": "integrations", "line": "124"}
{"timestamp": "2024-09-28 14:22:46,410", "level": "INFO", "message": "Callback data: {'Body': {'stkCallback': {'MerchantRequestID': 'dab3-4cb9-9110-99918efd35e37558684', 'CheckoutRequestID': 'ws_CO_28092024142228107728404490', 'ResultCode': 'SFC_IC0003', 'ResultDesc': 'The operator does not exist.'}}}", "module": "integrations", "line": "128"}
{"timestamp": "2024-09-28 14:39:20,156", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 14:39:31,832", "level": "INFO", "message": "Access Token Granted: {'access_token': 'iwHqLeUwaYCwipdrfGVegTJPx0Np', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 14:39:31,834", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 14:39:43,699", "level": "INFO", "message": "Received callback: <coroutine object Request.json at 0x000001A358A2BAE0>", "module": "integrations", "line": "124"}
{"timestamp": "2024-09-28 14:39:43,700", "level": "INFO", "message": "Callback data: {'Body': {'stkCallback': {'MerchantRequestID': '6304-4ad6-ac84-b19cc6b06d897605185', 'CheckoutRequestID': 'ws_CO_28092024143932111728404490', 'ResultCode': 1, 'ResultDesc': 'The balance is insufficient for the transaction.'}}}", "module": "integrations", "line": "128"}
{"timestamp": "2024-09-28 14:42:46,146", "level": "INFO", "message": "Access Token Granted: {'access_token': 'bYEeT6fm705BThXnezumzQYoBwGH', 'expires_in': '3599'}", "module": "utils", "line": "45"}
{"timestamp": "2024-09-28 14:42:46,147", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "33"}
{"timestamp": "2024-09-28 14:43:01,750", "level": "INFO", "message": "Received callback: <coroutine object Request.json at 0x000001A358A74740>", "module": "integrations", "line": "124"}
{"timestamp": "2024-09-28 14:43:01,750", "level": "INFO", "message": "Callback data: {'Body': {'stkCallback': {'MerchantRequestID': 'dab3-4cb9-9110-99918efd35e37605797', 'CheckoutRequestID': 'ws_CO_28092024144246426700524726', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 5}, {'Name': 'MpesaReceiptNumber', 'Value': 'SIS76CXCK9'}, {'Name': 'Balance'}, {'Name': 'TransactionDate', 'Value': 20240928144301}, {'Name': 'PhoneNumber', 'Value': 254700524726}]}}}}", "module": "integrations", "line": "128"}
{"timestamp": "2024-09-28 15:04:19,105", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:04:34,897", "level": "INFO", "message": "Callback data: None", "module": "integrations", "line": "104"}
{"timestamp": "2024-09-28 15:06:18,388", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:06:24,998", "level": "ERROR", "message": "Error processing callback data: (sqlite3.IntegrityError) UNIQUE constraint failed: transaction.mpesa_receipt_number
[SQL: INSERT INTO "transaction" (mpesa_receipt_number, amount, transaction_date, phone_number, merchant_request_id, checkout_request_id) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, "createdAt"]
[parameters: ('NLJ7RT61SV', 1.0, '2024-09-27 21:27:29.000000', 254728404490, '29115-34620561-1', 'ws_CO_270720191547474926')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)", "module": "utils", "line": "102"}
{"timestamp": "2024-09-28 15:06:25,005", "level": "INFO", "message": "Callback data: None", "module": "integrations", "line": "104"}
{"timestamp": "2024-09-28 15:11:51,214", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:12:05,411", "level": "INFO", "message": "Callback data: <app.models.payments.Transaction object at 0x0000020F5A0B3490>", "module": "integrations", "line": "104"}
{"timestamp": "2024-09-28 15:20:24,030", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:21:42,210", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:21:56,580", "level": "ERROR", "message": "Error processing callback data: (sqlite3.IntegrityError) UNIQUE constraint failed: transaction.mpesa_receipt_number
[SQL: INSERT INTO "transaction" (mpesa_receipt_number, phone_number, amount, merchant_request_id, checkout_request_id, transaction_date) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, "createdAt"]
[parameters: ('NLJ7RT61SV', 254728404490, 1.0, '29115-34620561-1', 'ws_CO_270720191547474926', '2024-09-27 21:27:29.000000')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)", "module": "utils", "line": "102"}
{"timestamp": "2024-09-28 15:21:56,582", "level": "INFO", "message": "Callback data: None", "module": "integrations", "line": "104"}
{"timestamp": "2024-09-28 15:24:04,759", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:24:10,050", "level": "ERROR", "message": "Error processing callback data: (sqlite3.IntegrityError) UNIQUE constraint failed: transaction.mpesa_receipt_number
[SQL: INSERT INTO "transaction" (mpesa_receipt_number, phone_number, amount, merchant_request_id, checkout_request_id, transaction_date) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, "createdAt"]
[parameters: ('NLJ7RT61SV', 254728404490, 1.0, '29115-34620561-1', 'ws_CO_270720191547474926', '2024-09-27 21:27:29.000000')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)", "module": "utils", "line": "102"}
{"timestamp": "2024-09-28 15:24:10,051", "level": "INFO", "message": "Callback data: None", "module": "integrations", "line": "104"}
{"timestamp": "2024-09-28 15:25:42,639", "level": "INFO", "message": "Callback data: {'amount': 1, 'id': 2, 'checkout_request_id': 'ws_CO_270720191547474926', 'createdAt': '2024-09-28T12:25:42', 'phone_number': '254728404490', 'merchant_request_id': '29115-34620561-1', 'mpesa_receipt_number': 'NLJ7LT61SV', 'transaction_date': '2024-09-27T21:27:29'}", "module": "integrations", "line": "104"}
{"timestamp": "2024-09-28 15:27:40,597", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:27:50,709", "level": "INFO", "message": "Callback data: {'amount': 1, 'id': 3, 'checkout_request_id': 'ws_CO_270720191547474926', 'createdAt': '2024-09-28T12:27:50', 'phone_number': '254728404490', 'merchant_request_id': '29115-34620561-1', 'mpesa_receipt_number': 'NLJ7LT63SV', 'transaction_date': '2024-09-27T21:27:29'}", "module": "integrations", "line": "104"}
{"timestamp": "2024-09-28 15:28:34,405", "level": "INFO", "message": "Callback data: {'amount': 50, 'id': 4, 'checkout_request_id': 'ws_CO_270720191547474926', 'createdAt': '2024-09-28T12:28:34', 'phone_number': '254728404490', 'merchant_request_id': '29115-34620561-1', 'mpesa_receipt_number': 'NLJ7LT63SD', 'transaction_date': '2024-09-27T21:27:29'}", "module": "integrations", "line": "104"}
{"timestamp": "2024-09-28 15:47:36,227", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:47:51,235", "level": "ERROR", "message": "Error processing callback data: (sqlite3.IntegrityError) UNIQUE constraint failed: transaction.mpesa_receipt_number
[SQL: INSERT INTO "transaction" (mpesa_receipt_number, phone_number, amount, merchant_request_id, checkout_request_id, transaction_date) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, "createdAt"]
[parameters: ('NLJ7LT63SD', 254728404490, 50.0, '29115-34620561-1', 'ws_CO_270720191547474926', '2024-09-27 21:27:29.000000')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)", "module": "utils", "line": "107"}
{"timestamp": "2024-09-28 15:47:51,236", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 15:47:51,236", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 15:49:35,217", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:49:41,717", "level": "INFO", "message": "0", "module": "utils", "line": "70"}
{"timestamp": "2024-09-28 15:51:52,488", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:51:55,428", "level": "INFO", "message": "Successful Transaction", "module": "utils", "line": "72"}
{"timestamp": "2024-09-28 15:52:24,420", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:52:29,780", "level": "INFO", "message": "Unsuccessful Transaction", "module": "utils", "line": "103"}
{"timestamp": "2024-09-28 15:52:29,781", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 15:52:29,781", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 15:55:41,984", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:56:00,355", "level": "INFO", "message": "Unsuccessful Transaction", "module": "utils", "line": "103"}
{"timestamp": "2024-09-28 15:56:00,356", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata' is an invalid keyword argument for UnsuccessfulTransactions", "module": "utils", "line": "111"}
{"timestamp": "2024-09-28 15:56:00,356", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 15:56:00,356", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 15:56:45,478", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "111"}
{"timestamp": "2024-09-28 15:56:45,478", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 15:56:45,478", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 15:58:13,327", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 15:58:23,418", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "111"}
{"timestamp": "2024-09-28 15:58:23,418", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 15:58:23,419", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 15:59:46,868", "level": "INFO", "message": "Successful Transaction", "module": "utils", "line": "72"}
{"timestamp": "2024-09-28 15:59:46,876", "level": "ERROR", "message": "Error processing callback data: (sqlite3.IntegrityError) UNIQUE constraint failed: transaction.mpesa_receipt_number
[SQL: INSERT INTO "transaction" (mpesa_receipt_number, phone_number, amount, merchant_request_id, checkout_request_id, transaction_date) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, "createdAt"]
[parameters: ('NLJ7RT61SV', 254708374149, 1.0, '29115-34620561-1', 'ws_CO_191220191020363925', '2019-12-19 10:21:15.000000')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)", "module": "utils", "line": "111"}
{"timestamp": "2024-09-28 15:59:46,877", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 15:59:46,877", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 16:00:19,957", "level": "INFO", "message": "Successful Transaction", "module": "utils", "line": "72"}
{"timestamp": "2024-09-28 16:01:12,925", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "111"}
{"timestamp": "2024-09-28 16:01:12,925", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 16:01:12,925", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 16:03:32,459", "level": "ERROR", "message": "Expecting property name enclosed in double quotes: line 8 column 7 (char 337)", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 16:03:32,459", "level": "ERROR", "message": "Error parsing callback data: Expecting property name enclosed in double quotes: line 8 column 7 (char 337)", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 16:03:51,648", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "111"}
{"timestamp": "2024-09-28 16:03:51,648", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 16:03:51,649", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 16:06:33,010", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:06:41,031", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "107"}
{"timestamp": "2024-09-28 16:06:41,031", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 16:06:41,032", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 16:07:40,147", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "107"}
{"timestamp": "2024-09-28 16:07:40,148", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 16:07:40,148", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 16:09:20,791", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:09:25,939", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "107"}
{"timestamp": "2024-09-28 16:09:25,941", "level": "ERROR", "message": "400: Returned None", "module": "integrations", "line": "112"}
{"timestamp": "2024-09-28 16:09:25,941", "level": "ERROR", "message": "Error parsing callback data: 400: Returned None", "module": "integrations", "line": "113"}
{"timestamp": "2024-09-28 16:12:07,990", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:12:11,601", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "79"}
{"timestamp": "2024-09-28 16:12:42,988", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:12:45,050", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "79"}
{"timestamp": "2024-09-28 16:14:09,552", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:14:15,001", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "79"}
{"timestamp": "2024-09-28 16:14:15,001", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:16:09,169", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:16:09,919", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "79"}
{"timestamp": "2024-09-28 16:16:09,919", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:17:48,902", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:17:52,665", "level": "ERROR", "message": "Error processing callback data: 'CallbackMetadata'", "module": "utils", "line": "79"}
{"timestamp": "2024-09-28 16:17:52,665", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:19:53,274", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:21:48,221", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:23:33,126", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:23:36,044", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:24:53,825", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:25:03,035", "level": "INFO", "message": "{'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 1, 'ResultDesc': 'The service request is processed successfully.'}}}", "module": "utils", "line": "65"}
{"timestamp": "2024-09-28 16:25:03,035", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:25:27,509", "level": "INFO", "message": "{'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT600'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}}}", "module": "utils", "line": "65"}
{"timestamp": "2024-09-28 16:25:27,510", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:28:35,141", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:28:38,330", "level": "INFO", "message": "This is a successful transaction: 
 {'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT600'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}}}", "module": "utils", "line": "67"}
{"timestamp": "2024-09-28 16:28:38,330", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:28:54,469", "level": "INFO", "message": "This is unsuccessful transaction: 
 {'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 1, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT600'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}}}", "module": "utils", "line": "69"}
{"timestamp": "2024-09-28 16:28:54,470", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:36:44,755", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:36:47,982", "level": "INFO", "message": "This is unsuccessful transaction: 
 {'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 1, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT600'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}}}", "module": "utils", "line": "71"}
{"timestamp": "2024-09-28 16:36:47,983", "level": "INFO", "message": "{'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 1, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT600'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}", "module": "utils", "line": "73"}
{"timestamp": "2024-09-28 16:36:47,983", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:37:09,193", "level": "INFO", "message": "This is a successful transaction: 
 {'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT600'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}}}", "module": "utils", "line": "67"}
{"timestamp": "2024-09-28 16:37:09,194", "level": "INFO", "message": "{'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT600'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}", "module": "utils", "line": "69"}
{"timestamp": "2024-09-28 16:37:09,195", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:37:46,052", "level": "INFO", "message": "This is a successful transaction: 
 {'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.'}}}", "module": "utils", "line": "67"}
{"timestamp": "2024-09-28 16:37:46,052", "level": "INFO", "message": "{'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.'}", "module": "utils", "line": "69"}
{"timestamp": "2024-09-28 16:37:46,053", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:38:53,033", "level": "INFO", "message": "This is a successful transaction: 
 {'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT61SV'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}}}", "module": "utils", "line": "67"}
{"timestamp": "2024-09-28 16:38:53,035", "level": "INFO", "message": "{'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 0, 'ResultDesc': 'The service request is processed successfully.', 'CallbackMetadata': {'Item': [{'Name': 'Amount', 'Value': 1.0}, {'Name': 'MpesaReceiptNumber', 'Value': 'NLJ7RT61SV'}, {'Name': 'TransactionDate', 'Value': 20191219102115}, {'Name': 'PhoneNumber', 'Value': 254708374149}]}}", "module": "utils", "line": "69"}
{"timestamp": "2024-09-28 16:38:53,035", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:39:33,386", "level": "INFO", "message": "This is unsuccessful transaction: 
 {'Body': {'stkCallback': {'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 1032, 'ResultDesc': 'Request canceled by user.'}}}", "module": "utils", "line": "71"}
{"timestamp": "2024-09-28 16:39:33,386", "level": "INFO", "message": "{'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 1032, 'ResultDesc': 'Request canceled by user.'}", "module": "utils", "line": "73"}
{"timestamp": "2024-09-28 16:39:33,387", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:45:02,664", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:47:08,979", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "72"}
{"timestamp": "2024-09-28 16:47:08,980", "level": "INFO", "message": "{'MerchantRequestID': '29115-34620561-1', 'CheckoutRequestID': 'ws_CO_191220191020363925', 'ResultCode': 1032, 'ResultDesc': 'Request canceled by user.'}", "module": "utils", "line": "74"}
{"timestamp": "2024-09-28 16:47:08,980", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:48:58,786", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:49:00,838", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "73"}
{"timestamp": "2024-09-28 16:49:00,838", "level": "INFO", "message": "1 validation error for UnsuccessfulTransactions
ResultCode
  Input should be a valid string [type=string_type, input_value=1032, input_type=int]
    For further information visit https://errors.pydantic.dev/2.8/v/string_type", "module": "utils", "line": "79"}
{"timestamp": "2024-09-28 16:49:00,839", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:49:40,144", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:49:41,864", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "73"}
{"timestamp": "2024-09-28 16:49:41,864", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:51:29,137", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:51:35,187", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "73"}
{"timestamp": "2024-09-28 16:51:35,187", "level": "INFO", "message": "Class 'app.schemas.payments.UnsuccessfulTransactions' is not mapped", "module": "utils", "line": "83"}
{"timestamp": "2024-09-28 16:51:35,187", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 16:55:56,293", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 16:56:00,053", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "73"}
{"timestamp": "2024-09-28 16:56:00,053", "level": "INFO", "message": "app.models.payments.UnsuccessfulTransactions() argument after ** must be a mapping, not UnsuccessfulTransactions", "module": "utils", "line": "84"}
{"timestamp": "2024-09-28 16:56:00,053", "level": "INFO", "message": "None", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 17:00:46,296", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 17:00:58,618", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "73"}
{"timestamp": "2024-09-28 17:00:58,815", "level": "INFO", "message": "<app.models.payments.UnsuccessfulTransactions object at 0x0000024BC19FC150>", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 17:13:45,562", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 17:13:49,376", "level": "INFO", "message": "0", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 17:13:49,376", "level": "INFO", "message": "This is a successful transaction: 
", "module": "utils", "line": "69"}
{"timestamp": "2024-09-28 17:14:17,828", "level": "INFO", "message": "1", "module": "integrations", "line": "103"}
{"timestamp": "2024-09-28 17:14:17,828", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "104"}
{"timestamp": "2024-09-28 17:19:02,420", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 17:19:09,369", "level": "ERROR", "message": "ValueError: Expecting value: line 1 column 1 (char 0)", "module": "integrations", "line": "123"}
{"timestamp": "2024-09-28 17:19:31,882", "level": "INFO", "message": "Mpesa Callback received with ResultCode: 1", "module": "integrations", "line": "116"}
{"timestamp": "2024-09-28 17:19:31,882", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "104"}
{"timestamp": "2024-09-28 17:19:48,889", "level": "INFO", "message": "Mpesa Callback received with ResultCode: 10", "module": "integrations", "line": "116"}
{"timestamp": "2024-09-28 17:19:48,890", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "104"}
{"timestamp": "2024-09-28 17:20:07,216", "level": "ERROR", "message": "ValueError: Expecting property name enclosed in double quotes: line 8 column 7 (char 339)", "module": "integrations", "line": "123"}
{"timestamp": "2024-09-28 17:20:21,363", "level": "INFO", "message": "Mpesa Callback received with ResultCode: 10", "module": "integrations", "line": "116"}
{"timestamp": "2024-09-28 17:20:21,363", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "104"}
{"timestamp": "2024-09-28 17:25:19,712", "level": "ERROR", "message": "KeyError: 'ResultCode not found in callback data' - Callback data might be malformed", "module": "integrations", "line": "127"}
{"timestamp": "2024-09-28 17:26:20,233", "level": "INFO", "message": "Access Token Granted: {'access_token': 'QYR0TIuiEmixY0FUFzLjXwagzOOy', 'expires_in': '3599'}", "module": "utils", "line": "50"}
{"timestamp": "2024-09-28 17:26:20,234", "level": "INFO", "message": "https://fde3-154-159-252-108.ngrok-free.app/api/v1/payments/c2b/c2b-callback", "module": "integrations", "line": "36"}
{"timestamp": "2024-09-28 17:28:14,701", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 17:28:20,084", "level": "INFO", "message": "Access Token Granted: {'access_token': 'zCQ8jH77idcwoZwtlhJ5QWcEKmdi', 'expires_in': '3599'}", "module": "utils", "line": "50"}
{"timestamp": "2024-09-28 17:28:20,342", "level": "INFO", "message": "{'Authorization': 'Bearer zCQ8jH77idcwoZwtlhJ5QWcEKmdi', 'Content-Type': 'application/json'}", "module": "integrations", "line": "89"}
{"timestamp": "2024-09-28 17:29:50,132", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 17:30:24,318", "level": "INFO", "message": "Access Token Granted: {'access_token': 'NnY8su5UQF4Qr1sl9Cipg5oPk5zh', 'expires_in': '3599'}", "module": "utils", "line": "50"}
{"timestamp": "2024-09-28 17:30:33,612", "level": "INFO", "message": "Mpesa Callback received with ResultCode: 1032", "module": "integrations", "line": "115"}
{"timestamp": "2024-09-28 17:30:33,613", "level": "INFO", "message": "This is unsuccessful transaction: 
 ", "module": "utils", "line": "104"}
{"timestamp": "2024-09-28 17:32:30,769", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
{"timestamp": "2024-09-28 17:32:34,660", "level": "INFO", "message": "Access Token Granted: {'access_token': '7mf8oxSWFt9CI8UqwMS0s1jsuWOd', 'expires_in': '3599'}", "module": "utils", "line": "50"}
{"timestamp": "2024-09-28 17:32:44,598", "level": "INFO", "message": "Mpesa Callback received with ResultCode: 1032: {'MerchantRequestID': 'feab-4d34-8ffb-457d02cd9bfc60145044', 'CheckoutRequestID': 'ws_CO_28092024173235047728404490', 'ResultCode': 1032, 'ResultDesc': 'Request cancelled by user'}", "module": "integrations", "line": "115"}
{"timestamp": "2024-09-28 17:51:27,142", "level": "INFO", "message": "Access Token Granted: {'access_token': 'evxt5MubQesTOevGDonVQpcoYtcR', 'expires_in': '3599'}", "module": "utils", "line": "50"}
{"timestamp": "2024-09-28 17:51:27,410", "level": "INFO", "message": "{'Authorization': 'Bearer evxt5MubQesTOevGDonVQpcoYtcR', 'Content-Type': 'application/json'}", "module": "integrations", "line": "89"}
{"timestamp": "2024-09-28 21:54:43,338", "level": "INFO", "message": "Checking a few things", "module": "main", "line": "18"}
